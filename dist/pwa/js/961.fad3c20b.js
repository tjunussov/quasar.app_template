"use strict";(self["webpackChunkinstore_tastamat_com"]=self["webpackChunkinstore_tastamat_com"]||[]).push([[961],{301:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(5724),a=r(499),i=r(4688);const o={printLabel(e,t){return n.T.print(),new Promise(((r,n)=>{window.cordova.plugins.printer.print(r,(e=>{n("Printing failed: "+e)}),e,t)}))},printerList(){return new Promise(((e,t)=>{window.cordova.plugins.printer.list(e,(e=>{t("Printer List failed: "+e)}))}))},scanOCR(e,t){return new Promise(((r,n)=>{window.cordova.plugins.ocr.scan(r,(e=>{n("Scanning failed: "+e)}),{ocrType:e,aspectRatio:1,mock:t})}))},scanBarcode(e){return new Promise(((t,r)=>{window.cordova.plugins.barcodeScanner.scan(t,(e=>{r("Scanning failed: "+e)}),{preferFrontCamera:!1,showFlipCameraButton:!0,showTorchButton:!0,torchOn:!1,saveHistory:!1,prompt:"Place a barcode inside the scan area",resultDisplayDuration:0,formats:"EAN_13",orientation:"portrait",disableAnimations:!0,disableSuccessBeep:!1,mock:e})}))}};function s(e,t,r,i){let o=1;const s=setInterval((()=>{o--,0==o&&(l.update({message:`Scanned code ${r&&r.text?r.text:r} <code>${r.raw?r.raw+"</code>":""} `}),clearInterval(s),setTimeout(l.hide,1e3),e(r),n.T.scaned())}),1e3),l=a.Z.create({title:`${i.mock.label} ${i.type||"barcode"} scanner`,message:"Scanning ...",html:!0}).onOk((()=>{clearInterval(s),e(r)}))}function l(e){var t=null!=localStorage.getItem(e)?localStorage.getItem(e):String(Math.ceil(1e5*Math.random()));return localStorage.setItem(e,t),t}console.debug("useQuasar.Platform",i.ZP.is),i.ZP.is.cordova||(window.cordova={plugins:{barcodeScanner:{scan:function(e,t,r){var n=r.mock.defaultValue||l(r.mock.label);s(e,t,n,r)}},ocr:{scan:function(e,t,r){var n={text:r.mock.defaultValue||l(r.mock.label),raw:"989079909 351 PM 583071708 OD 7 Days Chocolate Croissant 55 Gm AED 1.90 Almarai Milk Premium Mango 250 M o/n AED 2.65 Almarai Milk Premium Strawberry 250 MI 0/2 AED 2.60"};r.type="ocr",s(e,t,n,r)}},printer:{print:function(e,t,r,n){console.debug("mock cordova print",r,n),window.setTimeout((()=>{window.print(),e()}),500)},list:function(e,t,r){console.debug("mock cordova printList",r),window.setTimeout((()=>{e([{address:"18:04:ED:6B:13:D4",name:"XXRBJ200701857"},{address:"18:04:ED:6B:13:D4",name:"Bluetooth Printer"}])}),500)}}}});const c=o},6961:(e,t,r)=>{r.r(t),r.d(t,{default:()=>v});var n=r(3673),a=r(2323);const i=(0,n.Uk)("Settings"),o=(0,n._)("div",{class:"q-px-md text-grey"},"Printer List",-1);function s(e,t,r,s,l,c){const d=(0,n.up)("r-empty"),m=(0,n.up)("q-item-label"),u=(0,n.up)("q-item-section"),p=(0,n.up)("q-checkbox"),w=(0,n.up)("q-item"),g=(0,n.up)("q-list"),f=(0,n.up)("q-page"),h=(0,n.up)("layout"),k=(0,n.Q2)("ripple");return(0,n.wg)(),(0,n.j4)(h,{class:"max-width"},{header:(0,n.w5)((()=>[i])),footer:(0,n.w5)((()=>[(0,n.Wm)(d)])),default:(0,n.w5)((()=>[(0,n.Wm)(f,{class:"q-py-lg"},{default:(0,n.w5)((()=>[o,(0,n.Wm)(g,{class:"bg-white",bordered:"",separator:""},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.printers,(t=>(0,n.wy)(((0,n.wg)(),(0,n.j4)(w,{clickable:"","active-class":"text-primary",onClick:r=>e.selectPrinter(t)},{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,{class:"text-weight-bold"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(t.name),1)])),_:2},1024),(0,n.Wm)(m,{class:"text-small text-grey"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(t.address),1)])),_:2},1024)])),_:2},1024),(0,n.Wm)(u,{side:""},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{modelValue:e.selectedPrinter&&e.selectedPrinter.name==t.name,onClick:r=>e.selectPrinter(t)},null,8,["modelValue","onClick"])])),_:2},1024)])),_:2},1032,["onClick"])),[[k]]))),256))])),_:1})])),_:1})])),_:1})}var l=r(3427),c=r(301);const d=(0,n.aZ)({name:"Settings",components:{layout:l.Z},created(){var e=localStorage.getItem("printer");null!==e&&(this.$root.selectedPrinter=this.selectedPrinter=JSON.parse(e)),this.printerList()},data(){return{printers:[],selectedPrinter:null}},methods:{printerList(){return c.Z.printerList().then((e=>{this.printers=e}))},selectPrinter(e){console.log("selectPrinter",e),this.selectedPrinter=e,localStorage.setItem("printer",JSON.stringify(e))}}});var m=r(4379),u=r(7011),p=r(3414),w=r(2035),g=r(8240),f=r(2350),h=r(5735),k=r(6489),P=r(7518),b=r.n(P);d.render=s;const v=d;b()(d,"components",{QPage:m.Z,QList:u.Z,QItem:p.Z,QItemSection:w.Z,QBtn:g.Z,QItemLabel:f.Z,QCheckbox:h.Z}),b()(d,"directives",{Ripple:k.Z})}}]);