"use strict";(self["webpackChunkinstore_tastamat_com"]=self["webpackChunkinstore_tastamat_com"]||[]).push([[378],{301:(e,t,a)=>{a.d(t,{Z:()=>u});var l=a(5724),n=a(499),o=a(4688);const r={printLabel(e,t){return l.T.print(),new Promise(((a,l)=>{window.cordova.plugins.printer.print(a,(e=>{l("Printing failed: "+e)}),e,t)}))},printerList(){return new Promise(((e,t)=>{window.cordova.plugins.printer.list(e,(e=>{t("Printer List failed: "+e)}))}))},scanOCR(e,t){return new Promise(((a,l)=>{window.cordova.plugins.ocr.scan(a,(e=>{l("Scanning failed: "+e)}),{ocrType:e,aspectRatio:1,mock:t})}))},scanBarcode(e){return new Promise(((t,a)=>{window.cordova.plugins.barcodeScanner.scan(t,(e=>{a("Scanning failed: "+e)}),{preferFrontCamera:!1,showFlipCameraButton:!0,showTorchButton:!0,torchOn:!1,saveHistory:!1,prompt:"Place a barcode inside the scan area",resultDisplayDuration:0,formats:"EAN_13",orientation:"portrait",disableAnimations:!0,disableSuccessBeep:!1,mock:e})}))}};function i(e,t,a,o){let r=1;const i=setInterval((()=>{r--,0==r&&(c.update({message:`Scanned code ${a&&a.text?a.text:a} <code>${a.raw?a.raw+"</code>":""} `}),clearInterval(i),setTimeout(c.hide,1e3),e(a),l.T.scaned())}),1e3),c=n.Z.create({title:`${o.mock.label} ${o.type||"barcode"} scanner`,message:"Scanning ...",html:!0}).onOk((()=>{clearInterval(i),e(a)}))}function c(e){var t=null!=localStorage.getItem(e)?localStorage.getItem(e):String(Math.ceil(1e5*Math.random()));return localStorage.setItem(e,t),t}console.debug("useQuasar.Platform",o.ZP.is),o.ZP.is.cordova||(window.cordova={plugins:{barcodeScanner:{scan:function(e,t,a){var l=a.mock.defaultValue||c(a.mock.label);i(e,t,l,a)}},ocr:{scan:function(e,t,a){var l={text:a.mock.defaultValue||c(a.mock.label),raw:"989079909 351 PM 583071708 OD 7 Days Chocolate Croissant 55 Gm AED 1.90 Almarai Milk Premium Mango 250 M o/n AED 2.65 Almarai Milk Premium Strawberry 250 MI 0/2 AED 2.60"};a.type="ocr",i(e,t,l,a)}},printer:{print:function(e,t,a,l){console.debug("mock cordova print",a,l),window.setTimeout((()=>{window.print(),e()}),500)},list:function(e,t,a){console.debug("mock cordova printList",a),window.setTimeout((()=>{e([{address:"18:04:ED:6B:13:D4",name:"XXRBJ200701857"},{address:"18:04:ED:6B:13:D4",name:"Bluetooth Printer"}])}),500)}}}});const u=r},6918:(e,t,a)=>{a.d(t,{Z:()=>s});var l=a(3673);function n(e,t,a,n,o,r){const i=(0,l.up)("r-btn"),c=(0,l.up)("q-input");return(0,l.wg)(),(0,l.j4)(c,{label:e.label,Zsize:"lg",ref:"input",Zoutlined:"",modelValue:e.input,"onUpdate:modelValue":t[1]||(t[1]=t=>{e.input=t,e.$emit("update:modelValue",e.input)}),Zrules:"[ val => val.length >= LENGTH || 'Please use minimum '+LENGTH+' characters' ]"},{append:(0,l.w5)((()=>[(0,l.Wm)(i,{icon:"barcode"==e.type?e.mdiBarcodeScan:"camera_alt",ref:"btn",color:"grey",onClick:t[0]||(t[0]=t=>"ocr"==e.type?e.scanOCR(t):e.scanBarcode(t))},null,8,["icon"])])),_:1},8,["label","modelValue"])}var o=a(301),r=(a(5724),a(488));const i=(0,l.aZ)({created(){this.mdiBarcodeScan=r.Al3},name:"InputLabel",props:{label:{type:String,default:"Default"},length:{type:String,default:1},modelValue:String,extract:{type:String,default:"#"},message:{type:String,default:"Please scan screen"},type:{type:String,default:"ocr"},prefix:{type:String,default:""},defaultValue:String,disabled:{type:Boolean,default:!1}},watch:{modelValue(e){this.input=e}},data(){return{input:"",mdiBarcodeScan:null}},mounted(){"barcode"==this.type&&this.$bus.$on("keyboard:keydown:enter"+(this.prefix?":"+this.prefix:""),this.keyboardBarcode)},beforeUnmount(){"barcode"==this.type&&this.$bus.$off("keyboard:keydown:enter"+(this.prefix?":"+this.prefix:""),this.keyboardBarcode)},emits:["update:modelValue","data","blur"],methods:{scanOCR(){o.Z.scanOCR(this.extract,{label:this.label,defaultValue:this.defaultValue}).then((e=>{console.debug("$cordovaApi.scanOCR",e),this.input=e.text?e.text:e,e&&e.raw&&this.$emit("data",e),this.$emit("update:modelValue",this.input),this.defocus()}))},scanBarcode(e){o.Z.scanBarcode({label:this.label,defaultValue:this.defaultValue}).then((t=>{console.debug("$cordovaApi.scanBarcode",t),this.input=t,this.$emit("update:modelValue",this.input),this.defocus(e)}))},keyboardBarcode(e){this.input=e,this.$emit("update:modelValue",this.input),this.defocus()},defocus(e){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),window.focus(),document.body.focus()}}});var c=a(1206),u=a(7518),d=a.n(u);i.render=n;const s=i;d()(i,"components",{QInput:c.Z})},9378:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var l=a(3673),n=a(8880);const o=(0,l.Uk)("Pack"),r={class:"q-gutter-y-md full-width"},i=(0,l.Uk)("Info"),c=(0,l.Uk)("Pack");function u(e,t,a,u,d,s){const m=(0,l.up)("InputScan"),p=(0,l.up)("q-card-section"),b=(0,l.up)("r-btn"),f=(0,l.up)("q-card-actions"),h=(0,l.up)("r-card"),w=(0,l.up)("q-slide-transition"),g=(0,l.up)("q-page"),k=(0,l.up)("layout");return(0,l.wg)(),(0,l.j4)(k,{class:"max-width"},{header:(0,l.w5)((()=>[o])),default:(0,l.w5)((()=>[(0,l.Wm)(g,{class:"q-pa-lg flex flex-center"},{default:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{label:"Label Number",modelValue:e.labelNumber,"onUpdate:modelValue":t[0]||(t[0]=t=>e.labelNumber=t),type:"barcode",prefix:"L",length:"2"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b,{onClick:e.pack,"text-color":"primary",outline:"",disabled:!e.labelNumber},{default:(0,l.w5)((()=>[i])),_:1},8,["onClick","disabled"])])),_:1})])),_:1}),(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{label:"Cell Number",modelValue:e.cell,"onUpdate:modelValue":t[1]||(t[1]=t=>e.cell=t),length:"3",type:"barcode",prefix:"C",defaultValue:"CELL-DEV-01"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b,{onClick:e.pack,disabled:!e.cell||!e.labelNumber},{default:(0,l.w5)((()=>[c])),_:1},8,["onClick","disabled"])])),_:1})])),_:1},512),[[n.F8,e.labelNumber]])])),_:1})])])),_:1})])),_:1})}var d=a(6918),s=a(7581),m=a(3427);const p=(0,l.aZ)({name:"Pack",components:{layout:m.Z,InputScan:d.Z},data(){return{labelNumber:null,cell:null}},methods:{pack(){s.W.pack(this.labelNumber,this.cell).then((e=>{this.clear()}))},clear(){this.cell="",this.labelNumber=""}}});var b=a(4379),f=a(5589),h=a(9367),w=a(2471),g=a(7518),k=a.n(g);p.render=u;const y=p;k()(p,"components",{QPage:b.Z,QCardSection:f.Z,QCardActions:h.Z,QSlideTransition:w.Z})}}]);