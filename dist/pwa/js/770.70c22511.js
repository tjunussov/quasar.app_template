"use strict";(self["webpackChunkinstore_tastamat_com"]=self["webpackChunkinstore_tastamat_com"]||[]).push([[770],{1420:(e,t,a)=>{a.r(t),a.d(t,{default:()=>M});var l=a(3673),r=a(8880);const n=(0,l.Uk)("Pick"),i={class:"q-gutter-y-md full-width"},o=(0,l.Uk)("Print"),s=(0,l.Uk)("Use Label"),u=(0,l.Uk)("Pick");function d(e,t,a,d,c,m){const p=(0,l.up)("orderHistory"),b=(0,l.up)("print"),w=(0,l.up)("r-btn"),h=(0,l.up)("q-card-actions"),g=(0,l.up)("q-card"),k=(0,l.up)("q-dialog"),f=(0,l.up)("InputScan"),_=(0,l.up)("q-card-section"),N=(0,l.up)("q-checkbox"),W=(0,l.up)("q-slide-transition"),q=(0,l.up)("r-card"),x=(0,l.up)("q-page"),Z=(0,l.up)("layout");return(0,l.wg)(),(0,l.j4)(Z,{class:"max-width"},{header:(0,l.w5)((()=>[n])),list:(0,l.w5)((()=>[(0,l.Wm)(p,{hist:e.order,onOpen:e.recover,onClear:t[0]||(t[0]=t=>e.order=null)},null,8,["hist","onOpen"])])),default:(0,l.w5)((()=>[(0,l.Wm)(x,{class:"q-pa-lg flex flex-center"},{default:(0,l.w5)((()=>[(0,l._)("div",i,[(0,l.Wm)(k,{modelValue:e.showPrintDialog,"onUpdate:modelValue":t[1]||(t[1]=t=>e.showPrintDialog=t),size:"lg"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{class:"full-width q-pa-lg Zno-border-radius no-box-shadow"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{ref:"printRef",data:e.order},null,8,["data"]),(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,{onClick:e.print,"text-color":"primary",outline:""},{default:(0,l.w5)((()=>[o])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[(0,l.Wm)(f,{label:"Tracking Number",type:"ocr",extract:"ocr_picker",modelValue:e.trackingNumber,"onUpdate:modelValue":t[2]||(t[2]=t=>e.trackingNumber=t),length:"9",onData:e.multiData},null,8,["modelValue","onData"])])),_:1}),(0,l.Wm)(_,{class:"q-pa-none q-pl-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(N,{"onUpdate:modelValue":t[3]||(t[3]=t=>{e.useLabel=t,e.labelNumber=null}),modelValue:e.useLabel||null!=e.labelNumber},{default:(0,l.w5)((()=>[s])),_:1},8,["modelValue"])])),_:1}),(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(_,null,{default:(0,l.w5)((()=>[(0,l.Wm)(f,{label:"Label Number",type:"barcode",modelValue:e.labelNumber,"onUpdate:modelValue":t[4]||(t[4]=t=>e.labelNumber=t),prefix:"L",length:"4"},null,8,["modelValue"])])),_:1},512),[[r.F8,e.labelNumber||e.useLabel]])])),_:1}),(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,{onClick:e.pick,disabled:!e.trackingNumber},{default:(0,l.w5)((()=>[u])),_:1},8,["onClick","disabled"])])),_:1})])),_:1})])])),_:1})])),_:1})}var c=a(4808),m=a(2323);function p(e,t,a,n,i,o){const s=(0,l.up)("q-icon"),u=(0,l.up)("q-item-label"),d=(0,l.up)("q-item-section"),c=(0,l.up)("r-btn"),p=(0,l.up)("q-item"),b=(0,l.up)("q-slide-item"),w=(0,l.up)("q-list"),h=(0,l.up)("q-slide-transition"),g=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.j4)(h,{duration:500},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(w,{class:"q-pa-xs text-primary",bordered:"",separator:""},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{onRight:o.onRight,"right-color":"red"},{right:(0,l.w5)((()=>[(0,l.Wm)(s,{name:"clear"})])),default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(p,{clickable:"",onClick:t[0]||(t[0]=t=>e.$emit("open",a.hist))},{default:(0,l.w5)((()=>[a.hist&&a.hist.created?((0,l.wg)(),(0,l.j4)(d,{key:0,class:"text-dark q-pl-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"text-h6 text-weight-bold"},{default:(0,l.w5)((()=>[(0,l.Uk)("Order #"+(0,m.zw)(a.hist.labelNumber),1)])),_:1}),(0,l.Wm)(u,{class:"text-small"},{default:(0,l.w5)((()=>[(0,l.Uk)("Created "+(0,m.zw)(e.$format(a.hist.created,"HH:mm")),1)])),_:1})])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(d,{side:"",top:""},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{icon:"more_vert"})])),_:1})])),_:1},512),[[g]])])),_:1},8,["onRight"])])),_:1},512),[[r.F8,a.hist&&a.hist.created]])])),_:1})}const b={name:"OrderHistory",props:{hist:Object},emits:["open","clear"],methods:{onRight({reset:e}){e(),this.$emit("clear")}}};var w=a(2471),h=a(7011),g=a(7257),k=a(4554),f=a(3414),_=a(2035),N=a(8240),W=a(2350),q=a(6489),x=a(7518),Z=a.n(x);b.render=p;const y=b;Z()(b,"components",{QSlideTransition:w.Z,QList:h.Z,QSlideItem:g.Z,QIcon:k.Z,QItem:f.Z,QItemSection:_.Z,QBtn:N.Z,QItemLabel:W.Z}),Z()(b,"directives",{Ripple:q.Z});var v=a(6918);const D={class:"col ellipsis"},Q={class:"col-auto text-caption"},P={class:"barcode"},C={class:"text-h5 text-weight-bold"},L={key:0,class:"hidden",id:"printSection"};function V(e,t,a,r,n,i){const o=(0,l.up)("q-card-section");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(o,{class:"q-pt-xs row no-wrap items-center text-grey"},{default:(0,l.w5)((()=>[(0,l._)("div",D,(0,m.zw)(e.data.trackingNumber),1),(0,l._)("div",Q,(0,m.zw)(e.$format(e.data.created,"DD.MM.YYYY  HH:mm:ss")),1)])),_:1}),(0,l.Wm)(o,{class:"q-pt-xs text-center"},{default:(0,l.w5)((()=>[(0,l._)("div",P,(0,m.zw)(e.encode(e.data.labelNumber||e.data.trackingNumber)),1),(0,l._)("div",C,"#"+(0,m.zw)(e.data.labelNumber||e.data.trackingNumber),1)])),_:1}),e.data?((0,l.wg)(),(0,l.iD)("pre",L,"^XA\n^FO100,100^BY3\n^B1N,N,150,Y,N\n^FD#"+(0,m.zw)(e.data.labelNumber||e.data.trackingNumber)+"^FS\n^XZ",1)):(0,l.kq)("",!0)],64)}var S=a(301),U=a(8625),z=a.n(U),H=new(z());const I=(0,l.aZ)({name:"Print",props:["data"],methods:{print(){this.$q.notify({spinner:!0,timeout:1e3,position:"top",message:"Printing Label",color:"primary"});var e=document.getElementById("printSection").innerText;return console.debug("Printing",e),S.Z.printLabel(e)},encode(e){return H.encode(e)}}});var R=a(5589);I.render=V;const Y=I;Z()(I,"components",{QCardSection:R.Z});var O=a(7581);const $=(0,l.aZ)({name:"Pick",components:{layout:c.Z,print:Y,orderHistory:y,InputScan:v.Z},data(){return{useLabel:!1,labelNumber:null,trackingNumber:null,showPrintDialog:!1,order:null,raw:null}},watch:{showPrintDialog(e){e&&window.setTimeout((()=>{this.showPrintDialog=!1}),2e4)}},methods:{recover(e){this.labelNumber=e.labelNumber,this.trackingNumber=e.trackingNumber,this.order=null},clear(){this.labelNumber=null,this.trackingNumber=null,this.useLabel=!1},multiData(e){this.raw=e.raw},pick(){return O.W.pick(this.labelNumber,this.trackingNumber,this.raw).then((e=>{this.showPrintDialog=!0,this.order=e,this.clear()}))},print(){this.$refs.printRef.print().then((()=>{this.showPrintDialog=!1}))}}});var F=a(4379),T=a(6778),j=a(151),B=a(9367),A=a(5735);$.render=d;const M=$;Z()($,"components",{QPage:F.Z,QDialog:T.Z,QCard:j.Z,QCardActions:B.Z,QCardSection:R.Z,QCheckbox:A.Z,QSlideTransition:w.Z})}}]);